(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-287e7484"],{"1ac7":function(t,e,s){},"4a58":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"refund-wrapper"},[t._m(0),s("section",{staticClass:"main"},[s("div",{staticClass:"wrapper"},[s("div",{staticClass:"title"},[t._v("請勾選欲退票的品項")]),t.refundList.length?t._e():s("div",{staticClass:"empty"},[s("p",[t._v("無可以退票的品項")])]),s("div",{staticClass:"refund-box"},t._l(t.refundList,(function(e){return s("label",{key:e.ticketId,staticClass:"refund-item"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.refundCheckList,expression:"refundCheckList"}],attrs:{type:"checkbox"},domProps:{value:e,checked:Array.isArray(t.refundCheckList)?t._i(t.refundCheckList,e)>-1:t.refundCheckList},on:{change:function(s){var a=t.refundCheckList,i=s.target,n=!!i.checked;if(Array.isArray(a)){var r=e,c=t._i(a,r);i.checked?c<0&&(t.refundCheckList=a.concat([r])):c>-1&&(t.refundCheckList=a.slice(0,c).concat(a.slice(c+1)))}else t.refundCheckList=n}}}),s("div",{staticClass:"radio"}),s("div",{staticClass:"refund-info"},[s("div",{staticClass:"info"},[s("span",{staticClass:"gray"},[t._v("購票時間")]),t._v(t._s(t.dateFormat(e.date)))]),s("div",{staticClass:"info"},[s("span",{staticClass:"gray"},[t._v("訂單編號")]),t._v(t._s(e.orderCode))]),s("div",{staticClass:"name"},[t._v(t._s(e.name))]),s("div",{staticClass:"price"},[t._v("NT."+t._s(e.amount))])])])})),0)]),s("div",{staticClass:"wrapper"},[s("div",{staticClass:"title"},[t._v("請填寫退票申請書")]),s("div",{staticClass:"form-box"},[s("label",{staticClass:"input-row"},[t._m(1),s("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"input-style",attrs:{type:"text",placeholder:"需同購買人姓名"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})]),s("label",{staticClass:"input-row"},[t._m(2),s("input",{directives:[{name:"model",rawName:"v-model",value:t.phone,expression:"phone"}],staticClass:"input-style",attrs:{type:"text",placeholder:"需同購買人聯絡手機 (ex:0911222333)",maxLength:"10"},domProps:{value:t.phone},on:{input:[function(e){e.target.composing||(t.phone=e.target.value)},t.checkPhone]}})]),s("label",{staticClass:"input-row"},[t._m(3),s("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"input-style",attrs:{type:"text",placeholder:"需同購買人Email (ex:name@example.com)"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})]),s("label",{staticClass:"input-row"},[t._m(4),s("div",{staticClass:"credit-card"},[s("div",{staticClass:"card-num"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.cardNum1,expression:"cardNum1"}],attrs:{type:"text",maxlength:"4"},domProps:{value:t.cardNum1},on:{input:[function(e){e.target.composing||(t.cardNum1=e.target.value)},t.checkCard1]}})]),t._m(5),t._m(6),s("div",{staticClass:"card-num"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.cardNum2,expression:"cardNum2"}],attrs:{type:"text",maxlength:"4"},domProps:{value:t.cardNum2},on:{input:[function(e){e.target.composing||(t.cardNum2=e.target.value)},t.checkCard2]}})])]),s("div",{staticClass:"remark"},[t._v("需同購買之信用卡號")])]),s("label",{staticClass:"input-row"},[t._m(7),s("input",{directives:[{name:"model",rawName:"v-model",value:t.address,expression:"address"}],staticClass:"input-style",attrs:{type:"text",placeholder:""},domProps:{value:t.address},on:{input:function(e){e.target.composing||(t.address=e.target.value)}}})]),s("div",{staticClass:"input-row"},[s("div",{staticClass:"input-title"}),s("div",{staticClass:"check"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.check,expression:"check"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.check)?t._i(t.check,null)>-1:t.check},on:{change:function(e){var s=t.check,a=e.target,i=!!a.checked;if(Array.isArray(s)){var n=null,r=t._i(s,n);a.checked?r<0&&(t.check=s.concat([n])):r>-1&&(t.check=s.slice(0,r).concat(s.slice(r+1)))}else t.check=i}}}),s("p",[t._v("我已閱讀並同意退票說明及注意事項")])])])]),s("div",{staticClass:"main-btn",class:{disable:!t.refundList.length},on:{click:t.postRefundApi}},[t._v("送出退票申請")])])])])},i=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"information"},[s("div",{staticClass:"title"},[t._v("退票說明")]),s("div",{staticClass:"highlight"},[t._v("申請退票前，請詳細閱讀以下退票說明")]),s("div",{staticClass:"list"},[t._v("1.若購買套票，退票亦需整個套組退換，無法拆分或退單張票券。")]),s("div",{staticClass:"list"},[t._v("2.任一票券序號若已綁定使用者，視同票券已使用，業者得不予退票，套組內容亦同。")]),s("div",{staticClass:"list"},[t._v("3.早鳥優惠套組(5人套組及10人套組)退換申請辦理退換於大會日前第7日(11/26 23:59)辦理最終退換，於大會日第7日後辦理退換者，業者得不予退換。")]),s("div",{staticClass:"list"},[t._v("4.單人套組退換申請請於大會日(12/4)前3日前辦理退票，大會日起算前3日(11/30 23:59)後辦理退換者，業者得不予退票")]),s("div",{staticClass:"list"},[t._v("5.辦理退換者依每筆訂單收取手續費100元，扣除退票手續費後刷退至原刷卡購票之信用卡。")]),s("div",{staticClass:"remind-title"},[t._v("注意事項")]),s("div",{staticClass:"list"},[t._v("・非供自用或購買票券而轉售圖利者，企業經營者得不予退換。")]),s("div",{staticClass:"list"},[t._v("・為維護購票者個資安全，本退票服務僅限購票者本人申請，勾選欲退換之品項，並須填妥退票申請書之完整資料以提供辦理，經收單後，視同您同意本公司進行相關退票作業，包含電話聯繫、缺(補)件作業等並直接辦理退票作業。")]),s("div",{staticClass:"list"},[t._v("・扣除退票手續費後票款金額，於確認退票申請後約7-10個工作日刷退至原刷卡購票之信用卡帳戶，恕無法以現金或其他指定方式退還，退款時間將依發卡行及銀行之作業時間為準約需10-14工作天，請主動向銀行端查詢退款進度。")]),s("div",{staticClass:"list"},[t._v("・系統服務費及金流手續費非屬票券部分不在退費範圍之內。")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"input-title"},[s("span",{staticClass:"red"},[t._v("*")]),s("p",[t._v("姓 名")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"input-title"},[s("span",{staticClass:"red"},[t._v("*")]),s("p",[t._v("聯絡手機")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"input-title"},[s("span",{staticClass:"red"},[t._v("*")]),s("p",[t._v("Email")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"input-title"},[s("span",{staticClass:"red"},[t._v("*")]),s("p",[t._v("信用卡號")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"card-num"},[s("input",{attrs:{type:"text",value:"****",disabled:""}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"card-num"},[s("input",{attrs:{type:"text",value:"****",disabled:""}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"input-title"},[s("span",{staticClass:"red"},[t._v("*")]),s("p",[t._v("聯絡地址")])])}],n=s("5530"),r=(s("b64b"),s("159b"),s("b0c0"),s("99af"),s("d81d"),s("ac1f"),s("5319"),s("2f62")),c={name:"Refund",components:{},props:{},data:function(){return{refundCheckList:[],name:"",phone:"",email:"",cardNum1:"",cardNum2:"",address:"",check:!0}},computed:Object(n["a"])(Object(n["a"])({},Object(r["d"])(["isLoading","orderList"])),{},{refundList:function(){var t=[];return Object.keys(this.orderList).length&&this.orderList.forEach((function(e){e.items.forEach((function(s){s.isRefundable&&t.push({date:e.createDate,orderCode:e.orderCode,orderId:e.id,ticketId:s.id,name:s.product.name,amount:s.amount})}))})),t},creditCardNum:function(){return"".concat(this.cardNum1,"********").concat(this.cardNum2)},refundAmount:function(){return this.refundCheckList.reduce((function(t,e){return t+e.amount}),0)},refundItems:function(){return this.refundCheckList.map((function(t){return{orderId:t.orderId,orderItemId:t.ticketId}}))}}),beforeDestroy:function(){},mounted:function(){this.init()},methods:Object(n["a"])(Object(n["a"])({},Object(r["b"])(["getOrder","postRefund"])),{},{init:function(){var t=this;""==this.token?this.lineLogin("1615800146-OeNwb6kV").then((function(){t.getOrderApi()})).catch((function(){console.log("失敗")})):this.getOrderApi()},getOrderApi:function(){var t=this;this.getOrder(!0).then((function(){console.log("success")})).catch((function(e){console.log(e),"userVerificationError"==e&&t.init(),console.log("fail")}))},postRefundApi:function(){var t=this;return this.refundList.length?this.refundCheckList.length?""==this.name?(alert("請填寫姓名"),!1):""==this.phone?(alert("請填寫聯絡手機"),!1):this.verifyPhone(this.phone)?""==this.email?(alert("請填寫Email"),!1):this.verifyEmail(this.email)?""==this.cardNum1||""==this.cardNum2?(alert("請填寫信用卡資訊"),!1):""==this.address?(alert("請填寫地址"),!1):this.check?void this.postRefund({amount:String(this.refundAmount),paidUserName:this.name,paidUserPhone:this.phone,paidUserEmail:this.email,paidUserAddress:this.address,paidCardCode:this.creditCardNum,items:this.refundItems}).then((function(){console.log("success"),t.$router.push({name:"Refunded"})})).catch((function(t){console.log(t),console.log("fail")})):(alert("請閱讀並同意退票說明及注意事項"),!1):(alert("Email格式錯誤"),!1):(alert("聯絡手機格式錯誤"),!1):(alert("請選擇欲退票品項"),!1):(alert("無可以退票的品項"),!1)},checkPhone:function(t){this.phone=t.target.value.replace(/[^\d]/g,"")},checkCard1:function(t){this.cardNum1=t.target.value.replace(/[^\d]/g,"")},checkCard2:function(t){this.cardNum2=t.target.value.replace(/[^\d]/g,"")}})},l=c,d=(s("a0e5"),s("2877")),o=Object(d["a"])(l,a,i,!1,null,"03fc5c08",null);e["default"]=o.exports},a0e5:function(t,e,s){"use strict";s("1ac7")},d81d:function(t,e,s){"use strict";var a=s("23e7"),i=s("b727").map,n=s("1dde"),r=n("map");a({target:"Array",proto:!0,forced:!r},{map:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})}}]);
//# sourceMappingURL=chunk-287e7484.20ed95b2.js.map