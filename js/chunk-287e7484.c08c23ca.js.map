{"version":3,"sources":["webpack:///./src/views/Refund.vue?5e5d","webpack:///src/views/Refund.vue","webpack:///./src/views/Refund.vue?d058","webpack:///./src/views/Refund.vue","webpack:///./src/views/Refund.vue?36e8","webpack:///./node_modules/core-js/modules/es.array.map.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_m","_v","refundList","length","_e","_l","ticket","key","ticketId","directives","name","rawName","value","expression","attrs","domProps","Array","isArray","refundCheckList","_i","on","$event","$$a","$$el","target","$$c","checked","$$v","$$i","concat","slice","_s","dateFormat","date","orderCode","amount","composing","phone","checkPhone","email","cardNum1","checkCard1","cardNum2","checkCard2","address","check","class","postRefundApi","staticRenderFns","components","props","data","computed","Object","keys","orderList","forEach","order","items","isRefundable","list","push","createDate","orderId","id","product","creditCardNum","refundAmount","reduce","accumulator","currentValue","refundItems","map","item","orderItemId","beforeDestroy","mounted","init","methods","token","lineLogin","getOrderApi","getOrder","alert","postRefund","String","paidUserName","paidUserPhone","paidUserEmail","paidUserAddress","paidCardCode","e","replace","component","$","$map","arrayMethodHasSpeciesSupport","HAS_SPECIES_SUPPORT","proto","forced","callbackfn","arguments","undefined"],"mappings":"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","file":"js/chunk-287e7484.c08c23ca.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"refund-wrapper\"},[_vm._m(0),_c('section',{staticClass:\"main\"},[_c('div',{staticClass:\"wrapper\"},[_c('div',{staticClass:\"title\"},[_vm._v(\"請勾選欲退票的品項\")]),(!_vm.refundList.length)?_c('div',{staticClass:\"empty\"},[_c('p',[_vm._v(\"無可以退票的品項\")])]):_vm._e(),_c('div',{staticClass:\"refund-box\"},_vm._l((_vm.refundList),function(ticket){return _c('label',{key:ticket.ticketId,staticClass:\"refund-item\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.refundCheckList),expression:\"refundCheckList\"}],attrs:{\"type\":\"checkbox\"},domProps:{\"value\":ticket,\"checked\":Array.isArray(_vm.refundCheckList)?_vm._i(_vm.refundCheckList,ticket)>-1:(_vm.refundCheckList)},on:{\"change\":function($event){var $$a=_vm.refundCheckList,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=ticket,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.refundCheckList=$$a.concat([$$v]))}else{$$i>-1&&(_vm.refundCheckList=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.refundCheckList=$$c}}}}),_c('div',{staticClass:\"radio\"}),_c('div',{staticClass:\"refund-info\"},[_c('div',{staticClass:\"info\"},[_c('span',{staticClass:\"gray\"},[_vm._v(\"購票時間\")]),_vm._v(_vm._s(_vm.dateFormat(ticket.date)))]),_c('div',{staticClass:\"info\"},[_c('span',{staticClass:\"gray\"},[_vm._v(\"訂單編號\")]),_vm._v(_vm._s(ticket.orderCode))]),_c('div',{staticClass:\"name\"},[_vm._v(_vm._s(ticket.name))]),_c('div',{staticClass:\"price\"},[_vm._v(\"NT.\"+_vm._s(ticket.amount))])])])}),0)]),_c('div',{staticClass:\"wrapper\"},[_c('div',{staticClass:\"title\"},[_vm._v(\"請填寫退票申請書\")]),_c('div',{staticClass:\"form-box\"},[_c('label',{staticClass:\"input-row\"},[_vm._m(1),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.name),expression:\"name\"}],staticClass:\"input-style\",attrs:{\"type\":\"text\",\"placeholder\":\"需同購買人姓名\"},domProps:{\"value\":(_vm.name)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.name=$event.target.value}}})]),_c('label',{staticClass:\"input-row\"},[_vm._m(2),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.phone),expression:\"phone\"}],staticClass:\"input-style\",attrs:{\"type\":\"text\",\"placeholder\":\"需同購買人聯絡手機 (ex:0911222333)\",\"maxLength\":\"10\"},domProps:{\"value\":(_vm.phone)},on:{\"input\":[function($event){if($event.target.composing){ return; }_vm.phone=$event.target.value},_vm.checkPhone]}})]),_c('label',{staticClass:\"input-row\"},[_vm._m(3),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.email),expression:\"email\"}],staticClass:\"input-style\",attrs:{\"type\":\"text\",\"placeholder\":\"需同購買人Email (ex:name@example.com)\"},domProps:{\"value\":(_vm.email)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.email=$event.target.value}}})]),_c('label',{staticClass:\"input-row\"},[_vm._m(4),_c('div',{staticClass:\"credit-card\"},[_c('div',{staticClass:\"card-num\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.cardNum1),expression:\"cardNum1\"}],attrs:{\"type\":\"text\",\"maxlength\":\"4\"},domProps:{\"value\":(_vm.cardNum1)},on:{\"input\":[function($event){if($event.target.composing){ return; }_vm.cardNum1=$event.target.value},_vm.checkCard1]}})]),_vm._m(5),_vm._m(6),_c('div',{staticClass:\"card-num\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.cardNum2),expression:\"cardNum2\"}],attrs:{\"type\":\"text\",\"maxlength\":\"4\"},domProps:{\"value\":(_vm.cardNum2)},on:{\"input\":[function($event){if($event.target.composing){ return; }_vm.cardNum2=$event.target.value},_vm.checkCard2]}})])]),_c('div',{staticClass:\"remark\"},[_vm._v(\"需同購買之信用卡號\")])]),_c('label',{staticClass:\"input-row\"},[_vm._m(7),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.address),expression:\"address\"}],staticClass:\"input-style\",attrs:{\"type\":\"text\",\"placeholder\":\"\"},domProps:{\"value\":(_vm.address)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.address=$event.target.value}}})]),_c('div',{staticClass:\"input-row\"},[_c('div',{staticClass:\"input-title\"}),_c('div',{staticClass:\"check\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.check),expression:\"check\"}],attrs:{\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.check)?_vm._i(_vm.check,null)>-1:(_vm.check)},on:{\"change\":function($event){var $$a=_vm.check,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.check=$$a.concat([$$v]))}else{$$i>-1&&(_vm.check=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.check=$$c}}}}),_c('p',[_vm._v(\"我已閱讀並同意退票說明及注意事項\")])])])]),_c('div',{staticClass:\"main-btn\",class:{'disable':!_vm.refundList.length},on:{\"click\":_vm.postRefundApi}},[_vm._v(\"送出退票申請\")])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"information\"},[_c('div',{staticClass:\"title\"},[_vm._v(\"退票說明\")]),_c('div',{staticClass:\"highlight\"},[_vm._v(\"申請退票前，請詳細閱讀以下退票說明\")]),_c('div',{staticClass:\"list\"},[_vm._v(\"1.若購買套票，退票亦需整個套組退換，無法拆分或退單張票券。\")]),_c('div',{staticClass:\"list\"},[_vm._v(\"2.任一票券序號若已綁定使用者，視同票券已使用，業者得不予退票，套組內容亦同。\")]),_c('div',{staticClass:\"list\"},[_vm._v(\"3.早鳥優惠套組(5人套組及10人套組)退換申請辦理退換於大會日前第7日(11/26 23:59)辦理最終退換，於大會日第7日後辦理退換者，業者得不予退換。\")]),_c('div',{staticClass:\"list\"},[_vm._v(\"4.單人套組退換申請請於大會日(12/4)前3日前辦理退票，大會日起算前3日(11/30 23:59)後辦理退換者，業者得不予退票\")]),_c('div',{staticClass:\"list\"},[_vm._v(\"5.辦理退換者依每筆訂單收取手續費100元，扣除退票手續費後刷退至原刷卡購票之信用卡。\")]),_c('div',{staticClass:\"remind-title\"},[_vm._v(\"注意事項\")]),_c('div',{staticClass:\"list\"},[_vm._v(\"・非供自用或購買票券而轉售圖利者，企業經營者得不予退換。\")]),_c('div',{staticClass:\"list\"},[_vm._v(\"・為維護購票者個資安全，本退票服務僅限購票者本人申請，勾選欲退換之品項，並須填妥退票申請書之完整資料以提供辦理，經收單後，視同您同意本公司進行相關退票作業，包含電話聯繫、缺(補)件作業等並直接辦理退票作業。\")]),_c('div',{staticClass:\"list\"},[_vm._v(\"・扣除退票手續費後票款金額，於確認退票申請後約7-10個工作日刷退至原刷卡購票之信用卡帳戶，恕無法以現金或其他指定方式退還，退款時間將依發卡行及銀行之作業時間為準約需10-14工作天，請主動向銀行端查詢退款進度。\")]),_c('div',{staticClass:\"list\"},[_vm._v(\"・系統服務費及金流手續費非屬票券部分不在退費範圍之內。\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"input-title\"},[_c('span',{staticClass:\"red\"},[_vm._v(\"*\")]),_c('p',[_vm._v(\"姓 名\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"input-title\"},[_c('span',{staticClass:\"red\"},[_vm._v(\"*\")]),_c('p',[_vm._v(\"聯絡手機\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"input-title\"},[_c('span',{staticClass:\"red\"},[_vm._v(\"*\")]),_c('p',[_vm._v(\"Email\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"input-title\"},[_c('span',{staticClass:\"red\"},[_vm._v(\"*\")]),_c('p',[_vm._v(\"信用卡號\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card-num\"},[_c('input',{attrs:{\"type\":\"text\",\"value\":\"****\",\"disabled\":\"\"}})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card-num\"},[_c('input',{attrs:{\"type\":\"text\",\"value\":\"****\",\"disabled\":\"\"}})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"input-title\"},[_c('span',{staticClass:\"red\"},[_vm._v(\"*\")]),_c('p',[_vm._v(\"聯絡地址\")])])}]\n\nexport { render, staticRenderFns }","<template lang=\"pug\">\n.refund-wrapper\n  section.information\n    .title 退票說明\n    .highlight 申請退票前，請詳細閱讀以下退票說明\n    .list 1.若購買套票，退票亦需整個套組退換，無法拆分或退單張票券。\n    .list 2.任一票券序號若已綁定使用者，視同票券已使用，業者得不予退票，套組內容亦同。\n    .list 3.早鳥優惠套組(5人套組及10人套組)退換申請辦理退換於大會日前第7日(11/26 23:59)辦理最終退換，於大會日第7日後辦理退換者，業者得不予退換。\n    .list 4.單人套組退換申請請於大會日(12/4)前3日前辦理退票，大會日起算前3日(11/30 23:59)後辦理退換者，業者得不予退票\n    .list 5.辦理退換者依每筆訂單收取手續費100元，扣除退票手續費後刷退至原刷卡購票之信用卡。\n    .remind-title 注意事項\n    .list ・非供自用或購買票券而轉售圖利者，企業經營者得不予退換。\n    .list ・為維護購票者個資安全，本退票服務僅限購票者本人申請，勾選欲退換之品項，並須填妥退票申請書之完整資料以提供辦理，經收單後，視同您同意本公司進行相關退票作業，包含電話聯繫、缺(補)件作業等並直接辦理退票作業。\n    .list ・扣除退票手續費後票款金額，於確認退票申請後約7-10個工作日刷退至原刷卡購票之信用卡帳戶，恕無法以現金或其他指定方式退還，退款時間將依發卡行及銀行之作業時間為準約需10-14工作天，請主動向銀行端查詢退款進度。\n    .list ・系統服務費及金流手續費非屬票券部分不在退費範圍之內。\n  section.main\n    .wrapper\n      .title 請勾選欲退票的品項\n      .empty(v-if=\"!refundList.length\")\n        p\n          | 無可以退票的品項\n      .refund-box\n        label.refund-item(v-for=\"ticket in refundList\" :key=\"ticket.ticketId\")\n          input(type=\"checkbox\" v-model=\"refundCheckList\" :value=\"ticket\")\n          .radio\n          .refund-info\n            .info\n              span.gray 購票時間\n              | {{dateFormat(ticket.date)}}\n            .info\n              span.gray 訂單編號\n              | {{ticket.orderCode}}\n            .name {{ticket.name}}\n            .price NT.{{ticket.amount}}\n    .wrapper\n      .title 請填寫退票申請書\n      .form-box\n        label.input-row\n          .input-title\n            span.red *\n            p 姓 名\n          input.input-style(type=\"text\" placeholder=\"需同購買人姓名\" v-model=\"name\")\n        label.input-row\n          .input-title\n            span.red *\n            p 聯絡手機\n          input.input-style(type=\"text\" placeholder=\"需同購買人聯絡手機 (ex:0911222333)\" v-model=\"phone\" maxLength=\"10\" @input=\"checkPhone\")\n        label.input-row\n          .input-title\n            span.red *\n            p Email\n          input.input-style(type=\"text\" placeholder=\"需同購買人Email (ex:name@example.com)\" v-model=\"email\")\n        label.input-row\n          .input-title\n            span.red *\n            p 信用卡號\n          .credit-card\n            .card-num\n              input(type=\"text\" maxlength=\"4\" v-model=\"cardNum1\" @input=\"checkCard1\")\n            .card-num\n              input(type=\"text\" value=\"****\" disabled)\n            .card-num\n              input(type=\"text\" value=\"****\" disabled)\n            .card-num\n              input(type=\"text\" maxlength=\"4\" v-model=\"cardNum2\" @input=\"checkCard2\")\n          .remark 需同購買之信用卡號\n        label.input-row\n          .input-title\n            span.red *\n            p 聯絡地址\n          input.input-style(type=\"text\" placeholder=\"\" v-model=\"address\")\n        .input-row\n          .input-title\n          .check\n            input(type=\"checkbox\" v-model=\"check\")\n            p 我已閱讀並同意退票說明及注意事項\n      .main-btn(\n        :class=\"{'disable':!refundList.length}\"\n        @click=\"postRefundApi\"\n      ) 送出退票申請\n</template>\n\n<script>\nimport { mapState, mapActions } from \"vuex\";\n\nexport default {\n  name: \"Refund\",\n  components: {},\n  props: {},\n  data() {\n    return {\n      refundCheckList: [],\n      name: \"\",\n      phone: \"\",\n      email: \"\",\n      cardNum1: \"\",\n      cardNum2: \"\",\n      address: \"\",\n      check: true,\n    };\n  },\n  computed: {\n    ...mapState([\"isLoading\", \"orderList\"]),\n    refundList() {\n      let list = [];\n      if (Object.keys(this.orderList).length) {\n        this.orderList.forEach((order) => {\n          order.items.forEach((ticket) => {\n            if (ticket.isRefundable) {\n              list.push({\n                date: order.createDate,\n                orderCode: order.orderCode,\n                orderId: order.id,\n                ticketId: ticket.id,\n                name: ticket.product.name,\n                amount: ticket.amount,\n              });\n            }\n          });\n        });\n      }\n      return list;\n    },\n    creditCardNum() {\n      return `${this.cardNum1}********${this.cardNum2}`;\n    },\n    refundAmount() {\n      return this.refundCheckList.reduce((accumulator, currentValue) => {\n        return accumulator + currentValue.amount;\n      }, 0);\n    },\n    refundItems() {\n      return this.refundCheckList.map((item) => {\n        return {\n          orderId: item.orderId,\n          orderItemId: item.ticketId,\n        };\n      });\n    },\n  },\n  beforeDestroy() {},\n  mounted() {\n    this.init();\n  },\n  methods: {\n    ...mapActions([\"getOrder\", \"postRefund\"]),\n    init() {\n      if (this.token == \"\") {\n        this.lineLogin(process.env.VUE_APP_LIFF_ID_REFUND)\n          .then(() => {\n            this.getOrderApi();\n          })\n          .catch(() => {\n            console.log(\"失敗\");\n          });\n      } else {\n        this.getOrderApi();\n      }\n    },\n    getOrderApi() {\n      this.getOrder(true)\n        .then(() => {\n          console.log(\"success\");\n        })\n        .catch((e) => {\n          console.log(e);\n          if (e == \"userVerificationError\") {\n            this.init();\n          }\n          console.log(\"fail\");\n        });\n    },\n    postRefundApi() {\n      if (!this.refundList.length) {\n        alert(\"無可以退票的品項\");\n        return false;\n      } else if (!this.refundCheckList.length) {\n        alert(\"請選擇欲退票品項\");\n        return false;\n      } else if (this.name == \"\") {\n        alert(\"請填寫姓名\");\n        return false;\n      } else if (this.phone == \"\") {\n        alert(\"請填寫聯絡手機\");\n        return false;\n      } else if (!this.verifyPhone(this.phone)) {\n        alert(\"聯絡手機格式錯誤\");\n        return false;\n      } else if (this.email == \"\") {\n        alert(\"請填寫Email\");\n        return false;\n      } else if (!this.verifyEmail(this.email)) {\n        alert(\"Email格式錯誤\");\n        return false;\n      } else if (this.cardNum1 == \"\" || this.cardNum2 == \"\") {\n        alert(\"請填寫信用卡資訊\");\n        return false;\n      } else if (this.address == \"\") {\n        alert(\"請填寫地址\");\n        return false;\n      } else if (!this.check) {\n        alert(\"請閱讀並同意退票說明及注意事項\");\n        return false;\n      }\n\n      this.postRefund({\n        amount: String(this.refundAmount),\n        paidUserName: this.name,\n        paidUserPhone: this.phone,\n        paidUserEmail: this.email,\n        paidUserAddress: this.address,\n        paidCardCode: this.creditCardNum,\n        items: this.refundItems,\n      })\n        .then(() => {\n          console.log(\"success\");\n          this.$router.push({ name: \"Refunded\" });\n        })\n        .catch((e) => {\n          console.log(e);\n          console.log(\"fail\");\n        });\n    },\n    checkPhone(e) {\n      this.phone = e.target.value.replace(/[^\\d]/g, \"\");\n    },\n    checkCard1(e) {\n      this.cardNum1 = e.target.value.replace(/[^\\d]/g, \"\");\n    },\n    checkCard2(e) {\n      this.cardNum2 = e.target.value.replace(/[^\\d]/g, \"\");\n    },\n  },\n};\n</script>\n\n<style lang=\"sass\" scoped>\n@import \"@/assets/sass/var.sass\"\n\n.refund-wrapper\n  section.information\n    width: 100%\n    padding: 45px\n    box-sizing: border-box\n    .title\n      font-size: 1.1rem\n      line-height: 28px\n      letter-spacing: 1.1px\n      font-weight: bold\n      text-align: center\n    .highlight\n      margin-bottom: 50px\n      font-size: 0.9rem\n      line-height: 28px\n      letter-spacing: .9px\n      color: $red-002\n      text-align: center\n    .list\n      padding-left: 0.8rem\n      margin-bottom: 15px\n      font-size: 1rem\n      line-height: 28px\n      color: $gray-003\n      text-indent: -0.8rem\n    .remind-title\n      margin: 50px 0 15px\n      font-size: 1rem\n      line-height: 28px\n      color: $gray-003\n    +rwd(540px)\n      padding: 20px\n      .title\n      .highlight\n        margin-bottom: 30px\n      .list\n        // padding-left: 0.8rem\n        margin-bottom: 10px\n        // text-indent: -0.8rem\n      .remind-title\n        margin: 25px 0 10px\n  section.main\n    .wrapper\n      width: 100%\n      padding: 20px 40px\n      background-color: $gray-004\n      box-sizing: border-box\n      text-align: center\n      & + .wrapper\n        margin-top: 20px\n      .title\n        margin-bottom: 30px\n        font-size: 1.1rem\n        line-height: 28px\n        text-align: left\n      .empty\n        p\n          padding: 2rem 0\n      .refund-box\n        text-align: left\n        .refund-item\n          width: 100%\n          padding: 30px\n          background-color: #fff\n          display: block\n          box-sizing: border-box\n          cursor: pointer\n          & + .refund-item\n            margin-top: 10px\n          input\n            position: absolute\n            opacity: 0\n            &:checked + .radio:before\n                display: block\n          .radio\n            width: 30px\n            height: 30px\n            border-radius: 50%\n            border: 1px solid $gray-003\n            box-sizing: border-box\n            position: relative\n            +dib\n            &:before\n              content: ''\n              display: none\n              width: 18px\n              height: 18px\n              border-radius: 50%\n              background-color: $red-001\n              +pstc0\n          .refund-info\n            width: calc( 100% - 30px )\n            padding-left: 40px\n            box-sizing: border-box\n            position: relative\n            +dib\n            .info\n              margin-bottom: 10px\n              font-size: 1rem\n              line-height: 28px\n              span.gray\n                padding-right: 20px\n                color: $gray-003\n            .name\n              margin-top: 20px\n              font-size: 1.1rem\n              line-height: 28px\n            .price\n              font-size: 1.1rem\n              line-height: 28px\n              position: absolute\n              right: 0\n              bottom: 0\n      .form-box\n        .input-row\n          text-align: left\n          input\n            background-color: #fff\n          .credit-card\n            width: calc(100% - 110px)\n            +dib\n            .card-num\n              width: 100px\n              +dib\n              & + .card-num\n                margin-left: 30px\n                position: relative\n                &:before\n                  content: ''\n                  display: block\n                  width: 10px\n                  height: 2px\n                  background-color: $gray-001\n                  position: absolute\n                  left: -20px\n                  top: 0\n                  bottom: 0\n                  margin: auto\n              input\n                width: 100%\n                padding: 16px 15px\n                border: none\n                font-size: 0.9rem\n                line-height: 28px\n                border-radius: 5px\n                text-align: center\n                box-sizing: border-box\n                &:disabled\n                  background-color: $gray-004\n          .remark\n            padding-top: 5px\n            padding-left: 110px\n            font-size: 0.8rem\n            color: $red-001\n          .check\n            p\n              font-size: 0.8rem\n              color: $gray-001\n      .disable\n        color: #999\n        border: 1px solid #ccc\n        background-color: #eee\n    +rwd(540px)\n      .wrapper\n        padding: 20px\n        & + .wrapper\n          // margin-top: 20px\n        .title\n          margin-bottom: 15px\n          // font-size: 1.1rem\n          // line-height: 28px\n        .refund-box\n          .refund-item\n            padding: 15px\n            & + .refund-item\n              // margin-top: 10px\n            .radio\n              width: 20px\n              height: 20px\n              &:before\n                width: 14px\n                height: 14px\n            .refund-info\n              width: calc( 100% - 20px )\n              padding-left: 20px\n              .info\n                margin-bottom: 5px\n                // font-size: 1rem\n                // line-height: 28px\n                span.gray\n                  // padding-right: 20px\n              .name\n                margin-top: 10px\n                // font-size: 1.1rem\n                // line-height: 28px\n              .price\n                // font-size: 1.1rem\n                // line-height: 28px\n        .form-box\n          .input-row\n            input\n            .credit-card\n              width: calc(100% - 80px)\n              .card-num\n                width: 50px\n                & + .card-num\n                  margin-left: 18px\n                  &:before\n                    width: 8px\n                    // height: 2px\n                    left: -12px\n                input\n                  padding: 16px 5px\n                  // font-size: 0.9rem\n                  // line-height: 28px\n            .remark\n              // padding-top: 5px\n              padding-left: 80px\n              // font-size: 0.8rem\n            .check\n              p\n                // font-size: 0.8rem\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Refund.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Refund.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Refund.vue?vue&type=template&id=03fc5c08&scoped=true&lang=pug&\"\nimport script from \"./Refund.vue?vue&type=script&lang=js&\"\nexport * from \"./Refund.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Refund.vue?vue&type=style&index=0&id=03fc5c08&lang=sass&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"03fc5c08\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Refund.vue?vue&type=style&index=0&id=03fc5c08&lang=sass&scoped=true&\"","'use strict';\nvar $ = require('../internals/export');\nvar $map = require('../internals/array-iteration').map;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('map');\n\n// `Array.prototype.map` method\n// https://tc39.es/ecma262/#sec-array.prototype.map\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {\n  map: function map(callbackfn /* , thisArg */) {\n    return $map(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n"],"sourceRoot":""}