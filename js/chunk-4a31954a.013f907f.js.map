{"version":3,"sources":["webpack:///./src/views/Live.vue?5626","webpack:///./src/views/Live.vue?9a0c","webpack:///src/views/Live.vue","webpack:///./src/views/Live.vue?2295","webpack:///./src/views/Live.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","class","isFixedVideo","attrs","_v","on","logoutApi","_m","scrollChatBox","_l","chat","url","_s","name","message","lineData","profilePicUrl","directives","rawName","value","expression","modifiers","domProps","$event","type","indexOf","_k","keyCode","key","sendMsg","apply","arguments","target","composing","userMsg","trim","$forceUpdate","_e","isScrollUp","showNewChat","staticStyle","logoutAllApi","staticRenderFns","components","props","mixins","data","chatList","isDisconnected","isAllowSend","chatBoxHeight","chatBoxPst","showPopup","computed","created","window","addEventListener","handleScroll","mounted","$nextTick","sockets","connecting","console","log","connect","disconnect","alert","ChatMessage","push","length","shift","lineId","chatBox","document","getElementById","setTimeout","scrollTo","top","scrollHeight","behavior","logout","token","$router","methods","init","lineLogin","checkWatchStatus","setWatchStatus","checkLiveStatusApi","checkLiveStatus","liveLogoutAll","liveLogout","$socket","emit","scrollTop","watch","component"],"mappings":"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","file":"js/chunk-4a31954a.013f907f.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Live.vue?vue&type=style&index=0&id=36a99786&lang=sass&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"live-wrapper\"},[_c('div',{staticClass:\"remark\",class:{'fixed':_vm.isFixedVideo},attrs:{\"id\":\"flag\"}},[_c('p',[_vm._v(\"若需更換裝置觀看，請點擊右方“離開觀看”，可於另一裝置以相同票券序號登入觀看。\")]),_c('div',{staticClass:\"btn\",on:{\"click\":_vm.logoutApi}},[_vm._v(\"離開觀看\")])]),_c('div',{staticClass:\"fixed-box\",class:{'fixed':_vm.isFixedVideo}},[_vm._m(0),_c('div',{staticClass:\"title\"},[_vm._v(\"聊天室\")])]),_c('div',{staticClass:\"chatroom\"},[_c('div',{staticClass:\"chat-box\",attrs:{\"id\":\"chatBox\"},on:{\"scroll\":_vm.scrollChatBox}},_vm._l((_vm.chatList),function(chat){return _c('div',{staticClass:\"chat-item\"},[_c('figure',{staticClass:\"user-pic\"},[_c('img',{attrs:{\"src\":chat.url}})]),_c('div',{staticClass:\"user-info\"},[_c('div',{staticClass:\"name\"},[_vm._v(_vm._s(chat.name))]),_c('div',{staticClass:\"chat\"},[_vm._v(_vm._s(chat.message))])])])}),0),_c('div',{staticClass:\"insert-box\"},[_c('figure',{staticClass:\"user-pic\"},[_c('img',{attrs:{\"src\":this.lineData.profilePicUrl}})]),_c('input',{directives:[{name:\"model\",rawName:\"v-model.trim\",value:(_vm.userMsg),expression:\"userMsg\",modifiers:{\"trim\":true}}],staticClass:\"insert-txt\",attrs:{\"type\":\"text\",\"placeholder\":\"新增留言\"},domProps:{\"value\":(_vm.userMsg)},on:{\"keypress\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.sendMsg.apply(null, arguments)},\"input\":function($event){if($event.target.composing){ return; }_vm.userMsg=$event.target.value.trim()},\"blur\":function($event){return _vm.$forceUpdate()}}}),_c('div',{staticClass:\"send-btn\",on:{\"click\":_vm.sendMsg}},[_vm._v(\"送出\")])]),(_vm.isDisconnected)?_c('div',{staticClass:\"disconnected\"},[_c('p',[_vm._v(\"聊天室斷線，請重新整理\")])]):_vm._e(),_c('div',{staticClass:\"arrow-down\",class:{'show':_vm.isScrollUp},on:{\"click\":_vm.showNewChat}},[_c('svg',{staticClass:\"style-scope yt-icon\",staticStyle:{\"pointer-events\":\"none\",\"display\":\"block\",\"width\":\"100%\",\"height\":\"100%\"},attrs:{\"viewBox\":\"0 0 24 24\",\"preserveAspectRatio\":\"xMidYMid meet\",\"focusable\":\"false\"}},[_c('g',{staticClass:\"style-scope yt-icon\"},[_c('path',{staticClass:\"style-scope yt-icon\",attrs:{\"d\":\"M16.9,14.9l-5.4,5.4l-5.4-5.4l0.7-0.7l4.1,4.1V4h1v14.3l4.1-4.1L16.9,14.9z\"}})])])])]),_vm._m(1),(_vm.showPopup)?_c('div',{staticClass:\"popup\"},[_c('div',{staticClass:\"container\"},[_c('p',[_vm._v(\"您已有登入觀看直播的裝置，請先在原裝置離開觀看，或點擊此按鈕\")]),_c('div',{staticClass:\"main-btn popup-btn\",on:{\"click\":_vm.logoutAllApi}},[_vm._v(\"登出其他裝置直接觀看\")])])]):_vm._e()])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"live-box\"},[_c('div',{staticStyle:{\"padding\":\"56.25% 0 0 0\",\"position\":\"relative\"}},[_c('iframe',{staticStyle:{\"position\":\"absolute\",\"top\":\"0\",\"left\":\"0\",\"width\":\"100%\",\"height\":\"100%\"},attrs:{\"src\":\"https://player.vimeo.com/video/652846845?h=c30e89e084&badge=0&autopause=0&player_id=0&app_id=58479\",\"frameborder\":\"0\",\"allow\":\"autoplay; fullscreen; picture-in-picture\",\"allowfullscreen\":\"\",\"title\":\"SUNRIDER 直播\"}})])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"btn-box\"},[_c('img',{attrs:{\"src\":require(\"@/assets/images/live-kv.jpg\")}}),_c('a',{staticClass:\"kv-btn\",attrs:{\"href\":\"https://shop.sunrider.com/home.asp\",\"target\":\"_blank\"}},[_vm._v(\"立即搶購\")])])}]\n\nexport { render, staticRenderFns }","<template lang=\"pug\">\n.live-wrapper\n  .remark#flag(:class=\"{'fixed':isFixedVideo}\")\n    p 若需更換裝置觀看，請點擊右方“離開觀看”，可於另一裝置以相同票券序號登入觀看。\n    .btn(@click=\"logoutApi\") 離開觀看\n  .fixed-box(:class=\"{'fixed':isFixedVideo}\")\n    .live-box\n      div(style='padding:56.25% 0 0 0;position:relative;')\n        iframe(src='https://player.vimeo.com/video/652846845?h=c30e89e084&badge=0&autopause=0&player_id=0&app_id=58479' frameborder='0' allow='autoplay; fullscreen; picture-in-picture' allowfullscreen='' style='position:absolute;top:0;left:0;width:100%;height:100%;' title='SUNRIDER 直播')\n      //- iframe(src='https://vimeo.com/event/1473882/embed/bef220b65c' frameborder='0' allow='autoplay; fullscreen; picture-in-picture' allowfullscreen='' style='position:absolute;top:0;left:0;width:100%;height:100%;')\n    .title 聊天室\n  .chatroom\n    .chat-box#chatBox(@scroll=\"scrollChatBox\")\n      .chat-item(v-for=\"chat in chatList\")\n        figure.user-pic\n          img(:src=\"chat.url\")\n        .user-info\n          .name {{chat.name}}\n          .chat {{chat.message}}\n    .insert-box\n      figure.user-pic\n        img(:src=\"this.lineData.profilePicUrl\")\n      input.insert-txt(type=\"text\" placeholder=\"新增留言\" v-model.trim=\"userMsg\" @keypress.enter=\"sendMsg\")\n      .send-btn(@click=\"sendMsg\") 送出\n    .disconnected(v-if=\"isDisconnected\")\n      p 聊天室斷線，請重新整理\n    .arrow-down(\n      :class=\"{'show':isScrollUp}\"\n      @click=\"showNewChat\"\n    )\n      include ../assets/icon/icon-arrow-d.pug\n  .btn-box\n    img(src=\"@/assets/images/live-kv.jpg\")\n    a.kv-btn(href=\"https://shop.sunrider.com/home.asp\" target=\"_blank\") 立即搶購\n  .popup(v-if=\"showPopup\")\n    .container\n      p 您已有登入觀看直播的裝置，請先在原裝置離開觀看，或點擊此按鈕\n      .main-btn.popup-btn(@click=\"logoutAllApi\") 登出其他裝置直接觀看\n\n\n\n</template>\n\n<script>\nimport { mapState, mapActions } from \"vuex\";\n\nexport default {\n  name: \"Live\",\n  components: {},\n  props: {},\n  mixins: [],\n  data() {\n    return {\n      userMsg: \"\",\n      chatList: [],\n      isDisconnected: false,\n      isAllowSend: true,\n      chatBoxHeight: 0,\n      chatBoxPst: 0,\n      showPopup: false,\n      isFixedVideo: false,\n    };\n  },\n  computed: {\n    ...mapState([\"isLoading\", \"lineData\"]),\n    isScrollUp() {\n      return this.chatBoxPst < this.chatBoxHeight;\n    },\n  },\n  created() {\n    window.addEventListener(\"scroll\", this.handleScroll);\n  },\n  mounted() {\n    this.$nextTick(() => {\n      this.init();\n    });\n  },\n  sockets: {\n    connecting() {\n      console.log(\"正在連接\");\n    },\n    connect() {\n      console.log(\"聊天室連線\");\n    },\n    disconnect() {\n      console.log(\"聊天室斷線\");\n      alert(\"聊天室斷線，請重新整理\");\n      this.isDisconnected = true;\n    },\n    ChatMessage(data) {\n      this.chatList.push(data);\n      if (this.chatList.length > 200) {\n        this.chatList.shift();\n      }\n      this.chatBoxHeight =\n        document.getElementById(\"chatBox\").scrollHeight -\n        document.getElementById(\"chatBox\").offsetHeight;\n      if (!this.isScrollUp || data.lineId == this.lineData.lineId) {\n        var chatBox = document.getElementById(\"chatBox\");\n        setTimeout(() => {\n          chatBox.scrollTo({\n            top: chatBox.scrollHeight,\n            behavior: \"smooth\",\n          });\n        }, 1);\n      }\n    },\n    logout(data) {\n      console.log(data);\n      if (data.lineId == this.lineData.lineId && data.token !== this.token) {\n        alert(\"您目前已從其他裝置登入，將為您從此裝置登出。\");\n        this.$router.push({ name: \"Home\" });\n      }\n    },\n  },\n  methods: {\n    ...mapActions([\n      \"setWatchStatus\",\n      \"liveLogout\",\n      \"liveLogoutAll\",\n      \"checkLiveStatus\",\n    ]),\n    handleScroll() {\n      this.isFixedVideo =\n        window.scrollY >\n        document.getElementById(\"flag\").offsetTop +\n          document.getElementById(\"flag\").offsetHeight\n          ? true\n          : false;\n    },\n    init() {\n      // if (this.token == \"\") {\n      this.lineLogin(process.env.VUE_APP_LIFF_ID_LIVE)\n        .then(() => {\n          // this.checkWatchStatus();\n          this.checkLiveStatusApi();\n        })\n        .catch(() => {\n          console.log(\"失敗\");\n        });\n      // } else {\n      //   this.checkWatchStatus();\n      //   // this.$socket.connect();\n      // }\n    },\n    checkWatchStatus() {\n      this.setWatchStatus()\n        .then((res) => {\n          console.log(res);\n          if (!res.success) {\n            this.showPopup = true;\n          } else {\n            this.$socket.connect();\n          }\n        })\n        .catch(() => {\n          console.log(\"失敗\");\n        });\n    },\n    checkLiveStatusApi() {\n      this.checkLiveStatus()\n        .then((res) => {\n          console.log(\"success\");\n          if (!res.isBinding) {\n            this.$router.push({ name: \"Exchange\" });\n          } else {\n            this.checkWatchStatus();\n          }\n        })\n        .catch((e) => {\n          console.log(e);\n          if (e == \"userVerificationError\") {\n            this.init();\n          }\n          console.log(\"fail\");\n        });\n    },\n    logoutAllApi() {\n      this.liveLogoutAll()\n        .then((res) => {\n          console.log(res);\n          this.showPopup = false;\n          this.$socket.connect();\n        })\n        .catch(() => {\n          console.log(\"失敗\");\n        });\n    },\n    logoutApi() {\n      this.liveLogout()\n        .then((res) => {\n          console.log(res);\n          this.$router.push({ name: \"Home\" });\n        })\n        .catch(() => {\n          console.log(\"失敗\");\n        });\n    },\n    sendMsg() {\n      if (this.userMsg != \"\" && this.isAllowSend) {\n        this.$socket.emit(\"ChatMessage\", {\n          lineId: this.lineData.lineId,\n          name: this.lineData.name,\n          url: this.lineData.profilePicUrl,\n          message: this.userMsg,\n        });\n        this.isAllowSend = false;\n        this.userMsg = \"\";\n        setTimeout(() => {\n          this.isAllowSend = true;\n        }, 1000);\n      }\n    },\n    scrollChatBox() {\n      this.chatBoxPst = document.getElementById(\"chatBox\").scrollTop;\n    },\n    showNewChat() {\n      var chatBox = document.getElementById(\"chatBox\");\n      document.getElementById(\"chatBox\").scrollTo({\n        top: chatBox.scrollHeight,\n        behavior: \"smooth\",\n      });\n    },\n  },\n  watch: {},\n};\n</script>\n\n<style lang=\"sass\" scoped>\n@import \"@/assets/sass/var.sass\"\n\n.live-wrapper\n  .remark\n    width: 100%\n    padding: 20px 40px\n    margin-bottom: 0\n    background-color: #fff\n    box-sizing: border-box\n    &.fixed\n      margin-bottom: 450px\n    p\n      width: calc(100% - 80px)\n      font-size: 0.7rem\n      line-height: 22px\n      color: $red-001\n      +dib\n    .btn\n      width: 80px\n      font-size: 0.9rem\n      line-height: 28px\n      color: $blue-001\n      text-decoration: underline\n      cursor: pointer\n      text-align: right\n      +dib\n  .fixed-box\n    width: 100%\n    max-width: 768px\n    position: relative\n    z-index: 101\n    &.fixed\n      position: fixed\n      top: 0px\n      left: 0\n      right: 0\n      margin: auto\n    .live-box\n      width: 100%\n      height: 370px\n      background-color: #ccc\n      position: relative\n    .title\n      padding: 20px 40px\n      font-size: 1.1rem\n      line-height: 40px\n      color: $gray-001\n      background-color: #fff\n  .chatroom\n    width: 100%\n    position: relative\n    box-sizing: border-box\n    .chat-box\n      min-height: 180px\n      max-height: 400px\n      padding: 0px 40px\n      overflow-y: auto\n      position: relative\n      .chat-item\n        padding: 5px 0\n        figure.user-pic\n          width: 60px\n          border-radius: 50%\n          overflow: hidden\n          +dib\n        .user-info\n          width: calc( 100% - 60px )\n          padding-left: 20px\n          box-sizing: border-box\n          +dib\n          .name\n            font-size: 0.8rem\n            line-height: 28px\n            color: $gray-002\n          .chat\n            font-size: 0.9rem\n            line-height: 28px\n            color: $gray-003\n            word-wrap: break-word\n    .insert-box\n      padding: 20px 40px\n      background-color: #fff\n      border-top: 1px solid $gray-002\n      position: relative\n      z-index: 2\n      figure.user-pic\n        width: 60px\n        border-radius: 50%\n        overflow: hidden\n        +dib\n      input.insert-txt\n        width: calc( 100% - 250px )\n        padding: 10px 0\n        margin: 0 20px\n        font-size: 0.9rem\n        box-sizing: border-box\n        border: none\n        border-radius: 0px\n        border-bottom: 1px solid $gray-003\n        +dib\n      .send-btn\n        padding: 16px 56px\n        font-size: 0.9rem\n        color: $red-001\n        border: 1px solid $red-001\n        border-radius: 30px\n        cursor: pointer\n        transition: .3s\n        +dib\n        &:hover\n          color: #fff\n          background-color: $red-001\n    .disconnected\n      width: 100%\n      height: 100%\n      background-color: rgba(#000,.8)\n      position: absolute\n      top: 0\n      left: 0\n      z-index: 3\n      p\n        width: 100%\n        font-size: 1.2rem\n        color: #fff\n        text-align: center\n        +pstc5\n    .arrow-down\n      width: 40px\n      fill: $gray-002\n      transition: .3s\n      cursor: pointer\n      position: absolute\n      z-index: 1\n      bottom: 60px\n      left: 50%\n      transform: translateX(-50%)\n      &:hover\n        fill: $gray-003\n      &.show\n        bottom: 100px\n  .btn-box\n    position: relative\n    .kv-btn\n      padding: 0.4% 4%\n      font-size: 0.8rem\n      color: $red-001\n      border: 2px solid $red-001\n      border-radius: 10px\n      position: absolute\n      top: 65%\n      left: 40%\n      transition: .3s\n      &:hover\n        color: #fff\n        background-color: $red-001\n  .popup\n    width: 100%\n    height: 100%\n    background-color: rgba(#000,.5)\n    position: fixed\n    top: 0\n    left: 0\n    z-index: 200\n    .container\n      width: 90%\n      padding: 20px\n      max-width: 350px\n      border-radius: 20px\n      background-color: #fff\n      text-align: center\n      box-sizing: border-box\n      +pstc5\n      p\n        padding-top: 20px\n      .popup-btn\n        padding: 15px 30px\n  +rwd(540px)\n    .remark\n      padding: 20px\n      &.fixed\n        margin-bottom: 330px\n      p\n        width: calc(100% - 60px)\n        line-height: 18px\n      .btn\n        width: 60px\n    .fixed-box\n      .live-box\n        height: 270px\n      .title\n        padding: 20px\n        line-height: 20px\n    .chatroom\n      .chat-box\n        min-height: 100px\n        padding: 0px 20px\n        .chat-item\n          figure.user-pic\n            width: 40px\n            vertical-align: top\n          .user-info\n            width: calc( 100% - 40px )\n            padding-left: 10px\n            vertical-align: top\n      .insert-box\n        padding: 20px\n        figure.user-pic\n          width: 40px\n        input.insert-txt\n          width: calc( 100% - 150px )\n          padding: 5px 0\n          margin: 0 10px\n          // font-size: 0.9rem\n        .send-btn\n          padding: 7px 28px\n          font-size: 1rem\n          border-radius: 20px\n      .arrow-down\n        bottom: 40px\n        &.show\n          bottom: 80px\n    .btn-box\n      .kv-btn\n        font-size: 0.6rem\n        border-radius: 5px\n    .popup\n      .container\n        .popup-btn\n          margin: 15px 0\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Live.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Live.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Live.vue?vue&type=template&id=36a99786&scoped=true&lang=pug&\"\nimport script from \"./Live.vue?vue&type=script&lang=js&\"\nexport * from \"./Live.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Live.vue?vue&type=style&index=0&id=36a99786&lang=sass&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"36a99786\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}