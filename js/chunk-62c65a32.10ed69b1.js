(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-62c65a32"],{"0467":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"shop-pay-wrapper"},[a("section",{staticClass:"main"},[a("div",{staticClass:"title"},[a("div",{staticClass:"icon"},[a("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 35 35"}},[a("path",{staticClass:"a",attrs:{d:"M268.379,243.963a3.506,3.506,0,0,0-3.32-2.463H251.941a3.506,3.506,0,0,0-3.32,2.463l-2.369,7.316h3.162l2.053-6.339a.5.5,0,0,1,.474-.352h13.118a.5.5,0,0,1,.474.352l2.053,6.339h3.162Z",transform:"translate(-241 -241.5)"}}),a("path",{staticClass:"a",attrs:{d:"M275,253.5H242a1.015,1.015,0,0,0-1,1.029v5.147a1.015,1.015,0,0,0,1,1.029h1.716l2.025,13.692a2.019,2.019,0,0,0,1.978,1.749h21.562a2.02,2.02,0,0,0,1.978-1.749l2.025-13.692H275a1.015,1.015,0,0,0,1-1.029v-5.147A1.015,1.015,0,0,0,275,253.5Zm-22,16.985a1.5,1.5,0,1,1-3,0v-6.691a1.5,1.5,0,1,1,3,0Zm7,0a1.5,1.5,0,1,1-3,0v-6.691a1.5,1.5,0,1,1,3,0Zm7,0a1.5,1.5,0,1,1-3,0v-6.691a1.5,1.5,0,1,1,3,0Z",transform:"translate(-241 -241.147)"}})])]),a("p",[t._v("我的購物車")])]),a("div",{staticClass:"shopcart-box"},t._l(t.shopCartData,(function(e,s){return a("ShopcartItem",{key:s,staticClass:"product-item",attrs:{shopCartItem:e},on:{removeProduct:t.removeProduct}})})),1),a("div",{staticClass:"title"},[a("div",{staticClass:"icon"},[a("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 35 34.798"}},[a("g",{attrs:{transform:"translate(-629 -140)"}},[a("g",{attrs:{transform:"translate(629 140)"}},[a("path",{staticClass:"a",attrs:{d:"M200.216,114.86a9.662,9.662,0,1,0-9.662,9.661A9.662,9.662,0,0,0,200.216,114.86Z",transform:"translate(-173.056 -105.198)"}}),a("path",{staticClass:"a",attrs:{d:"M200.223,127.327h-3.439a2.344,2.344,0,0,0-1.922,1l-2.4,3.442a2.345,2.345,0,0,1-3.862-.025l-2.3-3.391a2.342,2.342,0,0,0-1.939-1.028h-3.378A7.878,7.878,0,0,0,173.1,135.2v3.5a1.172,1.172,0,0,0,1.173,1.173h32.656A1.172,1.172,0,0,0,208.1,138.7v-3.5A7.877,7.877,0,0,0,200.223,127.327Z",transform:"translate(-173.1 -105.074)"}})])])])]),a("p",[t._v("聯絡人資料")]),a("div",{staticClass:"remark"},[t._v("*號為必填")])]),a("div",{staticClass:"member-form"},[a("label",{staticClass:"input-row name"},[t._m(0),a("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"input-style",attrs:{type:"text"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})]),a("div",{staticClass:"gender-box"},[a("label",{staticClass:"gender"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.gender,expression:"gender"}],attrs:{type:"radio",name:"gender",value:"female"},domProps:{checked:t._q(t.gender,"female")},on:{change:function(e){t.gender="female"}}}),a("p",[t._v("女士")])]),a("label",{staticClass:"gender"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.gender,expression:"gender"}],attrs:{type:"radio",name:"gender",value:"male"},domProps:{checked:t._q(t.gender,"male")},on:{change:function(e){t.gender="male"}}}),a("p",[t._v("先生")])])]),a("label",{staticClass:"input-row"},[t._m(1),a("input",{directives:[{name:"model",rawName:"v-model",value:t.phone,expression:"phone"}],staticClass:"input-style",attrs:{type:"phone",placeholder:"ex:0911222333",maxLength:"10"},domProps:{value:t.phone},on:{input:[function(e){e.target.composing||(t.phone=e.target.value)},t.checkPhone]}})]),a("label",{staticClass:"input-row"},[t._m(2),a("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"input-style",attrs:{type:"email",placeholder:"ex:name@example.com"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})]),a("label",{staticClass:"input-row"},[t._m(3),a("input",{directives:[{name:"model",rawName:"v-model",value:t.memberCode,expression:"memberCode"}],staticClass:"input-style",attrs:{type:"text",placeholder:"TW2xxxxxxxx"},domProps:{value:t.memberCode},on:{input:function(e){e.target.composing||(t.memberCode=e.target.value)}}})]),a("div",{staticClass:"input-row"},[a("div",{staticClass:"input-title"}),a("label",{staticClass:"check"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.check,expression:"check"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.check)?t._i(t.check,null)>-1:t.check},on:{change:function(e){var a=t.check,s=e.target,n=!!s.checked;if(Array.isArray(a)){var r=null,i=t._i(a,r);s.checked?i<0&&(t.check=a.concat([r])):i>-1&&(t.check=a.slice(0,i).concat(a.slice(i+1)))}else t.check=n}}}),a("p",[t._v("我已閱讀並同意購票說明及注意事項")])])]),a("div",{staticClass:"main-btn",on:{click:t.postOrderApi}},[t._v("前往付款")])])])])},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-title"},[a("span",{staticClass:"red"},[t._v("*")]),a("p",[t._v("姓 名")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-title"},[a("span",{staticClass:"red"},[t._v("*")]),a("p",[t._v("聯絡手機")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-title"},[a("span",{staticClass:"red"},[t._v("*")]),a("p",[t._v("Email")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-title"},[a("p",[t._v("會員編號")])])}],r=a("5530"),i=(a("d81d"),a("b0c0"),a("ac1f"),a("5319"),a("2f62")),o=a("cb6c"),c={name:"ShopPay",components:{ShopcartItem:o["a"]},props:{},mixins:[],data:function(){return{name:"",gender:"",phone:"",email:"",memberCode:"",check:!1}},computed:Object(r["a"])(Object(r["a"])({},Object(i["d"])(["isLoading","shopCartData"])),{},{amount:function(){return this.$store.getters.totalPrice},productItems:function(){return this.shopCartData.map((function(t){return{productId:t.id,qty:t.num}}))}}),created:function(){},mounted:function(){var t=this;this.$nextTick((function(){t.shopCartData.length||(alert("購物車為空，將回到購票頁"),t.$router.push({name:"Product"})),""==t.token&&t.lineLogin("1615800146-K2G67dAM").then((function(){console.log("success")})).catch((function(){console.log("error")}))}))},methods:Object(r["a"])(Object(r["a"])(Object(r["a"])({},Object(i["b"])(["postOrder"])),Object(i["c"])({clearShopCartData:"CLEAR_SHOPCART_DATA"})),{},{postOrderApi:function(){var t=this;return this.shopCartData.length||(alert("購物車為空，將回到購票頁"),this.$router.push({name:"Product"})),""==this.name?(alert("請填寫姓名"),!1):""==this.gender?(alert("請勾選性別"),!1):""==this.phone?(alert("請填寫聯絡手機"),!1):this.verifyPhone(this.phone)?""==this.email?(alert("請填寫Email"),!1):this.verifyEmail(this.email)?this.check?void this.postOrder({amount:String(this.amount),paidUserName:this.name,paidUserGender:this.gender,paidUserPhone:this.phone,paidUserEmail:this.email,paidMemberCode:this.memberCode,items:this.productItems,frontendUrl:window.location.origin+"/shopped"}).then((function(e){t.clearShopCartData([]),window.location.href=e.item})).catch((function(t){console.log(t),console.log("fail")})):(alert("請閱讀並同意購票說明及注意事項"),!1):(alert("Email格式錯誤"),!1):(alert("聯絡手機格式錯誤"),!1)},removeProduct:function(){this.shopCartData.length||(alert("購物車為空，將回到購票頁"),this.$router.push({name:"Product"}))},checkPhone:function(t){this.phone=t.target.value.replace(/[^\d]/g,"")}}),watch:{}},l=c,m=(a("30f4"),a("2877")),p=Object(m["a"])(l,s,n,!1,null,"5e94d11b",null);e["default"]=p.exports},"30f4":function(t,e,a){"use strict";a("bd40")},bd40:function(t,e,a){},d81d:function(t,e,a){"use strict";var s=a("23e7"),n=a("b727").map,r=a("1dde"),i=r("map");s({target:"Array",proto:!0,forced:!i},{map:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}})}}]);
//# sourceMappingURL=chunk-62c65a32.10ed69b1.js.map