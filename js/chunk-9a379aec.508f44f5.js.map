{"version":3,"sources":["webpack:///./src/views/Ticket.vue?d1bd","webpack:///src/views/Ticket.vue","webpack:///./src/views/Ticket.vue?6851","webpack:///./src/views/Ticket.vue","webpack:///./src/views/Ticket.vue?71a0"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","_v","orderList","length","_e","name","_l","order","key","id","_s","paidUserName","paidUserPhone","dateFormat","createDate","orderCode","orderItem","product","isPaid","amount","ticket","code","bindingUserName","directives","rawName","value","expression","arg","class","bindingUserId","staticRenderFns","components","props","mixins","data","computed","created","mounted","init","methods","token","lineLogin","getOrderApi","getOrder","onCopy","alert","onError","watch","component"],"mappings":"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","file":"js/chunk-9a379aec.508f44f5.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"ticket-wrapper\"},[_c('div',{staticClass:\"title\"},[_c('div',{staticClass:\"icon\"},[_c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 25.071 34.245\"}},[_c('path',{staticClass:\"a\",attrs:{\"d\":\"M117.888,336.79a.4.4,0,0,0-.565,0c-.262.26-.637.634-.815.813a.392.392,0,0,0-.112.249l-.2,2.6a.4.4,0,0,0,.446.429l2.495-.287a.4.4,0,0,0,.237-.115l.816-.815a.4.4,0,0,0,0-.567Zm10.767-6.164-2.3-2.3a.4.4,0,0,0-.567,0l-6.446,6.445a.4.4,0,0,0,0,.568l2.3,2.3a.4.4,0,0,0,.567,0l6.445-6.445A.4.4,0,0,0,128.656,330.627Zm-1.73-16.388a1.6,1.6,0,0,0-1.6-1.6h-.871a.4.4,0,0,0-.4.4v2.406a.4.4,0,0,1-.4.4H110.073a.4.4,0,0,1-.4-.4v-2.406a.4.4,0,0,0-.4-.4h-.795a1.6,1.6,0,0,0-1.6,1.6v20.855a1.6,1.6,0,0,0,1.6,1.6h6.235a2.351,2.351,0,0,1,.375-.51c.29-.293,1.1-1.1,1.1-1.1l10.737-10.738ZM117.7,325.772h-5.615a1,1,0,0,1,0-2.005H117.7a1,1,0,1,1,0,2.005Zm4.011-4.011h-9.626a1,1,0,0,1,0-2.005h9.626a1,1,0,0,1,0,2.005Z\",\"transform\":\"translate(-106.872 -306.634)\"}}),_c('path',{staticClass:\"a\",attrs:{\"d\":\"M121.108,308.528a1.468,1.468,0,0,1-1.019-1.381,1.964,1.964,0,0,0-1.964-1.993h-.083a1.918,1.918,0,0,0-1.964,1.906,1.489,1.489,0,0,1-1.013,1.466c-1.275.43-2.2.825-2.2,2.243v1.2a.4.4,0,0,0,.4.4H122.9a.4.4,0,0,0,.4-.4v-1.2C123.3,309.353,122.379,308.957,121.108,308.528Zm11.9,17.448-2.3-2.3a.4.4,0,0,0-.567,0l-1.209,1.209a.4.4,0,0,0,0,.567l2.3,2.3a.4.4,0,0,0,.568,0l1.208-1.209A.4.4,0,0,0,133.011,325.976Z\",\"transform\":\"translate(-108.057 -305.154)\"}})])]),_c('p',[_vm._v(\"購票紀錄\")])]),(!_vm.orderList.length)?_c('div',{staticClass:\"empty\"},[_c('p',[_vm._v(\"無購票紀錄，\"),_c('router-link',{staticClass:\"go-product\",attrs:{\"to\":{name:'Product'}}},[_vm._v(\"繼續前往購票\")])],1)]):_vm._e(),_vm._l((_vm.orderList),function(order){return _c('div',{key:order.id,staticClass:\"order-item\"},[_c('div',{staticClass:\"info-box\"},[_c('div',{staticClass:\"info\"},[_c('div',{staticClass:\"info-label\"},[_vm._v(\"購買人姓名\")]),_c('p',[_vm._v(_vm._s(order.paidUserName))])]),_c('div',{staticClass:\"info\"},[_c('div',{staticClass:\"info-label\"},[_vm._v(\"聯絡手機\")]),_c('p',[_vm._v(_vm._s(order.paidUserPhone))])])]),_c('div',{staticClass:\"ticket-box\"},[_c('div',{staticClass:\"info\"},[_vm._v(\"購票時間：\"+_vm._s(_vm.dateFormat(order.createDate)))]),_c('div',{staticClass:\"info\"},[_vm._v(\"訂單編號：\"+_vm._s(order.orderCode))]),_vm._l((order.items),function(orderItem){return _c('div',{key:orderItem.id,staticClass:\"tickets\"},[_c('div',{staticClass:\"ticket-set\"},[_c('div',{staticClass:\"name\"},[_vm._v(_vm._s(orderItem.product.name)),(!order.isPaid)?_c('span',{staticClass:\"red\"},[_vm._v(\"未付款\")]):_vm._e()]),_c('div',{staticClass:\"price\"},[_vm._v(\"NT.\"+_vm._s(orderItem.amount))])]),_vm._l((orderItem.tickets),function(ticket){return _c('div',{key:ticket.id,staticClass:\"ticket-item\"},[_c('div',{staticClass:\"ticket-info\"},[_c('div',{staticClass:\"num-title\"},[_vm._v(\"序號\")]),_c('div',{staticClass:\"ticket-number\"},[_vm._v(_vm._s(ticket.code))]),_c('div',{staticClass:\"ticket-user\"},[_vm._v(\"使用者：\"+_vm._s(ticket.bindingUserName))])]),(order.isPaid)?_c('div',{directives:[{name:\"clipboard\",rawName:\"v-clipboard:copy\",value:(ticket.code),expression:\"ticket.code\",arg:\"copy\"},{name:\"clipboard\",rawName:\"v-clipboard:success\",value:(_vm.onCopy),expression:\"onCopy\",arg:\"success\"},{name:\"clipboard\",rawName:\"v-clipboard:error\",value:(_vm.onError),expression:\"onError\",arg:\"error\"}],staticClass:\"btn\",class:{'done':ticket.bindingUserId}},[_vm._v(_vm._s(ticket.bindingUserId?'已綁定':'複製序號'))]):_vm._e()])})],2)})],2)])}),_c('div',{staticClass:\"cancel-ticket\"},[_c('p',[_vm._v(\"線上直播大會當日至大會日前第7日內辦理退票者，業者得不予退票\")]),(_vm.orderList.length)?_c('router-link',{staticClass:\"btn\",attrs:{\"to\":{name:'Refund'}}},[_vm._v(\"申請退票\")]):_vm._e()],1)],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template lang=\"pug\">\n.ticket-wrapper\n  .title\n    .icon\n      include ../assets/icon/icon-list.pug\n    p 購票紀錄\n  .empty(v-if=\"!orderList.length\")\n    p\n      | 無購票紀錄，\n      router-link.go-product(:to=\"{name:'Product'}\") 繼續前往購票\n  .order-item(v-for=\"order in orderList\" :key=\"order.id\")\n    .info-box\n      .info\n        .info-label 購買人姓名\n        p {{order.paidUserName}}\n      .info\n        .info-label 聯絡手機\n        p {{order.paidUserPhone}}\n    .ticket-box\n      .info 購票時間：{{dateFormat(order.createDate)}}\n      .info 訂單編號：{{order.orderCode}}\n      .tickets(v-for=\"orderItem in order.items\" :key=\"orderItem.id\")\n        .ticket-set\n          .name {{orderItem.product.name}}\n            span.red(v-if=\"!order.isPaid\") 未付款\n          .price NT.{{orderItem.amount}}\n        .ticket-item(v-for=\"ticket in orderItem.tickets\" :key=\"ticket.id\")\n          .ticket-info\n            .num-title 序號\n            .ticket-number {{ticket.code}}\n            .ticket-user 使用者：{{ticket.bindingUserName}}\n          .btn(\n            v-if=\"order.isPaid\"\n            :class=\"{'done':ticket.bindingUserId}\"\n            v-clipboard:copy=\"ticket.code\"\n            v-clipboard:success=\"onCopy\"\n            v-clipboard:error=\"onError\"\n          ) {{ticket.bindingUserId?'已綁定':'複製序號'}}\n  .cancel-ticket\n    p 線上直播大會當日至大會日前第7日內辦理退票者，業者得不予退票\n    router-link.btn(:to=\"{name:'Refund'}\" v-if=\"orderList.length\") 申請退票\n</template>\n\n<script>\nimport { mapState, mapActions } from \"vuex\";\n\nexport default {\n  name: \"Ticket\",\n  components: {},\n  props: {},\n  mixins: [],\n  data() {\n    return {};\n  },\n  computed: {\n    ...mapState([\"isLoading\", \"orderList\"]),\n  },\n  created() {},\n  mounted() {\n    this.init();\n  },\n  methods: {\n    ...mapActions([\"getOrder\"]),\n    init() {\n      if (this.token == \"\") {\n        this.lineLogin(process.env.VUE_APP_LIFF_ID_TICKET)\n          .then(() => {\n            this.getOrderApi();\n          })\n          .catch(() => {\n            console.log(\"失敗\");\n          });\n      } else {\n        this.getOrderApi();\n      }\n    },\n    getOrderApi() {\n      this.getOrder()\n        .then(() => {\n          console.log(\"success\");\n        })\n        .catch((e) => {\n          console.log(e);\n          if (e == \"userVerificationError\") {\n            this.init();\n          }\n          console.log(\"fail\");\n        });\n    },\n    onCopy() {\n      alert(\"複製成功！\");\n    },\n    onError() {\n      alert(\"複製失敗！\");\n    },\n  },\n  watch: {},\n};\n</script>\n\n<style lang=\"sass\" scoped>\n@import \"@/assets/sass/var.sass\"\n\n.ticket-wrapper\n  .title\n    width: 100%\n    padding: 20px 40px\n    background-color: $gray-005\n    box-sizing: border-box\n    position: relative\n    .icon\n      width: 30px\n      height: 30px\n      fill: $gray-001\n      +dib\n    p\n      padding-left: 7px\n      font-size: 1rem\n      line-height: 28px\n      font-weight: bold\n      color: $gray-001\n      +dib\n  .empty\n    min-height: calc(100vh - 420px)\n    p\n      padding: 2rem 0\n      font-size: 1.2rem\n      text-align: center\n      .go-product\n        cursor: pointer\n        display: inline-block\n        text-decoration: underline\n  .info-box\n    padding: 25px 40px\n    .info\n      &+ .info\n        margin-top: 20px\n      .info-label\n        width: 180px\n        font-size: 1.1rem\n        line-height: 28px\n        font-weight: bold\n        +dib\n      p\n        font-size: 1.1rem\n        line-height: 28px\n        color: $gray-003\n        +dib\n  .ticket-box\n    width: 100%\n    padding: 25px 40px\n    box-sizing: border-box\n    background-color: $gray-004\n    .info\n      margin-bottom: 10px\n      font-size: 1rem\n      line-height: 28px\n      color: $gray-003\n    .tickets\n      margin-top: 25px\n      .ticket-set\n        margin-bottom: 40px\n        +clearfix\n        .name\n          font-size: 1.1rem\n          line-height: 28px\n          font-weight: bold\n          float: left\n          .red\n            padding-left: 5px\n            color: red\n        .price\n          font-size: 1.1rem\n          line-height: 28px\n          font-weight: bold\n          float: right\n      .ticket-item\n        width: 100%\n        padding: 10px 15px\n        margin-top: 10px\n        background-color: #fff\n        box-sizing: border-box\n        .ticket-info\n          width: calc(100% - 180px)\n          +dib\n          .num-title\n            margin-bottom: 10px\n            font-size: 1rem\n            line-height: 28px\n            color: $gray-003\n          .ticket-number\n            margin-bottom: 30px\n            font-size: 1rem\n            line-height: 28px\n          .ticket-user\n            font-size: .9rem\n            line-height: 28px\n            color: $gray-003\n        .btn\n          width: 180px\n          font-size: 1.1rem\n          line-height: 54px\n          color: $blue-001\n          border: 1px solid $blue-001\n          border-radius: 10px\n          text-align: center\n          cursor: pointer\n          box-sizing: border-box\n          +dib\n          &.done\n            pointer-events: none\n            color: $gray-003\n            border: 1px solid $gray-003\n  .cancel-ticket\n    width: 100%\n    padding: 40px\n    box-sizing: border-box\n    p\n      width: calc(100% - 80px)\n      font-size: 0.8rem\n      line-height: 22px\n      color: $red-001\n      +dib\n    .btn\n      width: 80px\n      font-size: 0.9rem\n      line-height: 28px\n      color: $blue-001\n      text-decoration: underline\n      cursor: pointer\n      text-align: right\n      +dib\n  +rwd(540px)\n    .title\n      padding: 10px 20px\n      .icon\n        width: 20px\n        height: 20px\n      p\n        // font-size: 1rem\n        // line-height: 28px\n    .empty\n      min-height: calc(100vh - 280px)\n    .info-box\n      padding: 20px\n      .info\n        &+ .info\n          margin-top: 10px\n        .info-label\n          width: 120px\n          // font-size: 1.1rem\n          // line-height: 28px\n        p\n          // font-size: 1.1rem\n          // line-height: 28px\n    .ticket-box\n      padding: 20px\n      .info\n        margin-bottom: 5px\n        // font-size: 1rem\n        // line-height: 28px\n      .tickets\n        margin-top: 15px\n        .ticket-set\n          margin-bottom: 20px\n          .name\n            // font-size: 1.1rem\n            // line-height: 28px\n          .price\n            // font-size: 1.1rem\n            // line-height: 28px\n        .ticket-item\n          // padding: 10px 15px\n          // margin-top: 10px\n          .ticket-info\n            width: calc(100% - 100px)\n            .num-title\n              margin-bottom: 5px\n              // font-size: 1rem\n              // line-height: 28px\n            .ticket-number\n              margin-bottom: 15px\n              // font-size: 1rem\n              // line-height: 28px\n            .ticket-user\n              // font-size: .9rem\n              // line-height: 28px\n          .btn\n            width: 100px\n            // font-size: 1.1rem\n            line-height: 40px\n    .cancel-ticket\n      padding: 20px\n      p\n        width: calc(100% - 60px)\n        // font-size: 0.8rem\n        // line-height: 22px\n      .btn\n        width: 60px\n        // font-size: 0.9rem\n        // line-height: 28px\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Ticket.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Ticket.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Ticket.vue?vue&type=template&id=4cceee67&scoped=true&lang=pug&\"\nimport script from \"./Ticket.vue?vue&type=script&lang=js&\"\nexport * from \"./Ticket.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Ticket.vue?vue&type=style&index=0&id=4cceee67&lang=sass&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4cceee67\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Ticket.vue?vue&type=style&index=0&id=4cceee67&lang=sass&scoped=true&\""],"sourceRoot":""}