{"version":3,"sources":["webpack:///./src/views/Live.vue?78c2","webpack:///./src/views/Live.vue?c08b","webpack:///src/views/Live.vue","webpack:///./src/views/Live.vue?2295","webpack:///./src/views/Live.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_m","_v","attrs","_l","chat","url","_s","lineId","message","directives","name","rawName","value","expression","domProps","on","$event","target","composing","userMsg","sendMsg","staticRenderFns","staticStyle","components","props","mixins","data","chatList","computed","created","mounted","$nextTick","sockets","connect","console","log","disconnect","ChatMessage","push","chatBox","document","getElementById","setTimeout","scrollTo","top","scrollHeight","behavior","methods","$socket","emit","watch","component"],"mappings":"gHAAA,W,yCCAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAACN,EAAIO,GAAG,GAAGP,EAAIO,GAAG,GAAGH,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,MAAM,CAACE,YAAY,SAAS,CAACN,EAAIQ,GAAG,SAASJ,EAAG,MAAM,CAACE,YAAY,WAAWG,MAAM,CAAC,GAAK,YAAYT,EAAIU,GAAIV,EAAY,UAAE,SAASW,GAAM,OAAOP,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,SAAS,CAACE,YAAY,YAAY,CAACF,EAAG,MAAM,CAACK,MAAM,CAAC,IAAME,EAAKC,SAASR,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACN,EAAIQ,GAAGR,EAAIa,GAAGF,EAAKG,WAAWV,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACN,EAAIQ,GAAGR,EAAIa,GAAGF,EAAKI,mBAAkB,GAAGX,EAAG,MAAM,CAACE,YAAY,cAAc,CAACN,EAAIO,GAAG,GAAGH,EAAG,QAAQ,CAACY,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOnB,EAAW,QAAEoB,WAAW,YAAYd,YAAY,aAAaG,MAAM,CAAC,KAAO,OAAO,YAAc,QAAQY,SAAS,CAAC,MAASrB,EAAW,SAAGsB,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOC,OAAOC,YAAqBzB,EAAI0B,QAAQH,EAAOC,OAAOL,WAAUf,EAAG,MAAM,CAACE,YAAY,WAAWgB,GAAG,CAAC,MAAQtB,EAAI2B,UAAU,CAAC3B,EAAIQ,GAAG,YAAYR,EAAIO,GAAG,MAC1hCqB,EAAkB,CAAC,WAAa,IAAI5B,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,UAAU,CAACF,EAAG,IAAI,CAACJ,EAAIQ,GAAG,6CAA6CJ,EAAG,MAAM,CAACE,YAAY,OAAO,CAACN,EAAIQ,GAAG,aAAa,WAAa,IAAIR,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,SAAS,CAACyB,YAAY,CAAC,SAAW,WAAW,IAAM,IAAI,KAAO,IAAI,MAAQ,OAAO,OAAS,QAAQpB,MAAM,CAAC,IAAM,mDAAmD,YAAc,IAAI,MAAQ,2CAA2C,gBAAkB,SAAS,WAAa,IAAIT,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,SAAS,CAACE,YAAY,YAAY,CAACF,EAAG,MAAM,CAACK,MAAM,CAAC,IAAM,EAAQ,cAAsC,WAAa,IAAIT,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,WAAW,CAACF,EAAG,MAAM,CAACE,YAAY,YAAY,CAACN,EAAIQ,GAAG,sB,wBC6Bj9B,GACES,KAAM,OACNa,WAAY,GACZC,MAAO,GACPC,OAAQ,GACRC,KALF,WAMI,MAAO,CACLP,QAAS,GACTQ,SAAU,CAChB,CACQ,OAAR,OACQ,IAAR,gDACQ,QAAR,QAEA,CACQ,OAAR,OACQ,IAAR,gDACQ,QAAR,QAEA,CACQ,OAAR,OACQ,IAAR,gDACQ,QAAR,QAEA,CACQ,OAAR,OACQ,IAAR,gDACQ,QAAR,QAEA,CACQ,OAAR,OACQ,IAAR,gDACQ,QAAR,QAEA,CACQ,OAAR,OACQ,IAAR,gDACQ,QAAR,QAEA,CACQ,OAAR,OACQ,IAAR,gDACQ,QAAR,WAKEC,SAAU,OAAZ,OAAY,CAAZ,GACA,+BAEEC,QAlDF,aAmDEC,QAnDF,WAmDA,WACIpC,KAAKqC,WAAU,WACb,EAAN,sBAGEC,QAAS,CACPC,QAAS,WACPC,QAAQC,IAAI,UAEdC,WAAY,WACVF,QAAQC,IAAI,UAEdE,YAPJ,SAOA,GACMH,QAAQC,IAAIT,GACZhC,KAAKiC,SAASW,KAAKZ,GACnB,IAAIa,EAAUC,SAASC,eAAe,WACtCC,YAAW,WACTH,EAAQI,SAAS,CACfC,IAAKL,EAAQM,aACbC,SAAU,aAEpB,KAGEC,QAAS,OAAX,OAAW,CAAX,kBACA,sBADA,IAEI3B,QAFJ,WAGM1B,KAAKsD,QAAQC,KAAK,cAAe,CAC/B1C,OAAQb,KAAKyB,QACbd,IAAK,4CAAb,qBACQG,QAASd,KAAKyB,UAEhBzB,KAAKyB,QAAU,MAGnB+B,MAAO,ICpHqU,I,wBCQ1UC,EAAY,eACd,EACA3D,EACA6B,GACA,EACA,KACA,WACA,MAIa,aAAA8B,E","file":"js/chunk-ddb3f7e2.816982b1.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Live.vue?vue&type=style&index=0&id=718134ee&lang=sass&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"live-wrapper\"},[_vm._m(0),_vm._m(1),_c('div',{staticClass:\"chatroom\"},[_c('div',{staticClass:\"title\"},[_vm._v(\"聊天室\")]),_c('div',{staticClass:\"chat-box\",attrs:{\"id\":\"chatBox\"}},_vm._l((_vm.chatList),function(chat){return _c('div',{staticClass:\"chat-item\"},[_c('figure',{staticClass:\"user-pic\"},[_c('img',{attrs:{\"src\":chat.url}})]),_c('div',{staticClass:\"user-info\"},[_c('div',{staticClass:\"name\"},[_vm._v(_vm._s(chat.lineId))]),_c('div',{staticClass:\"chat\"},[_vm._v(_vm._s(chat.message))])])])}),0),_c('div',{staticClass:\"insert-box\"},[_vm._m(2),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.userMsg),expression:\"userMsg\"}],staticClass:\"insert-txt\",attrs:{\"type\":\"text\",\"placeholder\":\"新增留言\"},domProps:{\"value\":(_vm.userMsg)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.userMsg=$event.target.value}}}),_c('div',{staticClass:\"send-btn\",on:{\"click\":_vm.sendMsg}},[_vm._v(\"送出\")])])]),_vm._m(3)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"remark\"},[_c('p',[_vm._v(\"若需更換裝置觀看，請點擊右方“離開觀看”，可於另一裝置以相同票券序號登入觀看。\")]),_c('div',{staticClass:\"btn\"},[_vm._v(\"離開觀看\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"live-box\"},[_c('iframe',{staticStyle:{\"position\":\"absolute\",\"top\":\"0\",\"left\":\"0\",\"width\":\"100%\",\"height\":\"100%\"},attrs:{\"src\":\"https://vimeo.com/event/1473882/embed/bef220b65c\",\"frameborder\":\"0\",\"allow\":\"autoplay; fullscreen; picture-in-picture\",\"allowfullscreen\":\"\"}})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('figure',{staticClass:\"user-pic\"},[_c('img',{attrs:{\"src\":require(\"@/assets/images/user-pic.jpg\")}})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"btn-box\"},[_c('div',{staticClass:\"main-btn\"},[_vm._v(\"逛逛SUNRIDER商品\")])])}]\n\nexport { render, staticRenderFns }","<template lang=\"pug\">\n.live-wrapper\n  .remark\n    p 若需更換裝置觀看，請點擊右方“離開觀看”，可於另一裝置以相同票券序號登入觀看。\n    .btn 離開觀看\n  .live-box\n    iframe(src='https://vimeo.com/event/1473882/embed/bef220b65c' frameborder='0' allow='autoplay; fullscreen; picture-in-picture' allowfullscreen='' style='position:absolute;top:0;left:0;width:100%;height:100%;')\n  .chatroom\n    .title 聊天室\n    .chat-box#chatBox\n      .chat-item(v-for=\"chat in chatList\")\n        figure.user-pic\n          img(:src=\"chat.url\")\n        .user-info\n          .name {{chat.lineId}}\n          .chat {{chat.message}}\n    .insert-box\n      figure.user-pic\n        img(src=\"@/assets/images/user-pic.jpg\")\n      input.insert-txt(type=\"text\" placeholder=\"新增留言\" v-model=\"userMsg\")\n      .send-btn(@click=\"sendMsg\") 送出\n  .btn-box\n    .main-btn 逛逛SUNRIDER商品\n\n\n</template>\n\n<script>\nimport { mapState, mapActions } from \"vuex\";\n\nexport default {\n  name: \"Live\",\n  components: {},\n  props: {},\n  mixins: [],\n  data() {\n    return {\n      userMsg: \"\",\n      chatList: [\n        {\n          lineId: \"test\",\n          url: `http://fakeimg.pl/60x60/eee/000000/?text=test`,\n          message: \"test\",\n        },\n        {\n          lineId: \"test\",\n          url: `http://fakeimg.pl/60x60/eee/000000/?text=test`,\n          message: \"test\",\n        },\n        {\n          lineId: \"test\",\n          url: `http://fakeimg.pl/60x60/eee/000000/?text=test`,\n          message: \"test\",\n        },\n        {\n          lineId: \"test\",\n          url: `http://fakeimg.pl/60x60/eee/000000/?text=test`,\n          message: \"test\",\n        },\n        {\n          lineId: \"test\",\n          url: `http://fakeimg.pl/60x60/eee/000000/?text=test`,\n          message: \"test\",\n        },\n        {\n          lineId: \"test\",\n          url: `http://fakeimg.pl/60x60/eee/000000/?text=test`,\n          message: \"test\",\n        },\n        {\n          lineId: \"test\",\n          url: `http://fakeimg.pl/60x60/eee/000000/?text=test`,\n          message: \"test\",\n        },\n      ],\n    };\n  },\n  computed: {\n    ...mapState([\"isLoading\"]),\n  },\n  created() {},\n  mounted() {\n    this.$nextTick(() => {\n      this.$socket.connect();\n    });\n  },\n  sockets: {\n    connect: () => {\n      console.log(\"聊天室連線\");\n    },\n    disconnect: () => {\n      console.log(\"聊天室斷線\");\n    },\n    ChatMessage(data) {\n      console.log(data);\n      this.chatList.push(data);\n      var chatBox = document.getElementById(\"chatBox\");\n      setTimeout(() => {\n        chatBox.scrollTo({\n          top: chatBox.scrollHeight,\n          behavior: \"smooth\",\n        });\n      }, 1);\n    },\n  },\n  methods: {\n    ...mapActions([\"\"]),\n    sendMsg() {\n      this.$socket.emit(\"ChatMessage\", {\n        lineId: this.userMsg,\n        url: `http://fakeimg.pl/60x60/eee/000000/?text=${this.userMsg}`,\n        message: this.userMsg,\n      });\n      this.userMsg = \"\";\n    },\n  },\n  watch: {},\n};\n</script>\n\n<style lang=\"sass\" scoped>\n@import \"@/assets/sass/var.sass\"\n\n.live-wrapper\n  .remark\n    width: 100%\n    padding: 20px 40px\n    box-sizing: border-box\n    p\n      width: calc(100% - 80px)\n      font-size: 0.7rem\n      line-height: 22px\n      color: $red-001\n      +dib\n    .btn\n      width: 80px\n      font-size: 0.9rem\n      line-height: 28px\n      color: $blue-001\n      text-decoration: underline\n      cursor: pointer\n      text-align: right\n      +dib\n  .live-box\n    width: 100%\n    height: 370px\n    background-color: #ccc\n    position: relative\n  .chatroom\n    width: 100%\n    box-sizing: border-box\n    .title\n      padding: 20px 40px\n      font-size: 1.1rem\n      line-height: 40px\n      color: $gray-001\n    .chat-box\n      height: 400px\n      padding: 0px 40px\n      overflow-y: auto\n      .chat-item\n        padding: 5px 0\n        figure.user-pic\n          width: 60px\n          border-radius: 50%\n          overflow: hidden\n          +dib\n        .user-info\n          width: calc( 100% - 60px )\n          padding-left: 20px\n          box-sizing: border-box\n          +dib\n          .name\n            font-size: 0.8rem\n            line-height: 28px\n            color: $gray-002\n          .chat\n            font-size: 0.9rem\n            line-height: 28px\n            color: $gray-003\n    .insert-box\n      padding: 20px 40px\n      border-top: 1px solid $gray-002\n      figure.user-pic\n        width: 60px\n        border-radius: 50%\n        overflow: hidden\n        +dib\n      input.insert-txt\n        width: calc( 100% - 250px )\n        padding: 10px 0\n        margin: 0 20px\n        font-size: 0.9rem\n        box-sizing: border-box\n        border: none\n        border-bottom: 1px solid $gray-003\n        +dib\n      .send-btn\n        padding: 16px 56px\n        font-size: 0.9rem\n        color: $red-001\n        border: 1px solid $red-001\n        border-radius: 30px\n        cursor: pointer\n        transition: .3s\n        +dib\n        &:hover\n          color: #fff\n          background-color: $red-001\n  .btn-box\n    padding: 50px 0\n    text-align: center\n    background-image: url(../assets/images/banner-product.png)\n    background-size: cover\n    background-repeat: no-repeat\n    background-position: center center\n  +rwd(540px)\n    .remark\n      padding: 20px\n      p\n        width: calc(100% - 60px)\n        // font-size: 0.7rem\n        line-height: 18px\n      .btn\n        width: 60px\n        // font-size: 0.9rem\n        // line-height: 28px\n    .live-box\n      height: 270px\n    .chatroom\n      .title\n        padding: 20px\n        // font-size: 1.1rem\n        line-height: 20px\n      .chat-box\n        height: 400px\n        padding: 0px 20px\n        .chat-item\n          // padding: 5px 0\n          figure.user-pic\n            width: 40px\n            vertical-align: top\n          .user-info\n            width: calc( 100% - 40px )\n            padding-left: 10px\n            vertical-align: top\n            .name\n              // font-size: 0.8rem\n              // line-height: 28px\n            .chat\n              // font-size: 0.9rem\n              // line-height: 28px\n      .insert-box\n        padding: 20px\n        figure.user-pic\n          width: 40px\n        input.insert-txt\n          width: calc( 100% - 150px )\n          padding: 5px 0\n          margin: 0 10px\n          // font-size: 0.9rem\n        .send-btn\n          padding: 7px 28px\n          font-size: 1rem\n          border-radius: 20px\n    .btn-box\n      padding: 30px 0\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Live.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Live.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Live.vue?vue&type=template&id=718134ee&scoped=true&lang=pug&\"\nimport script from \"./Live.vue?vue&type=script&lang=js&\"\nexport * from \"./Live.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Live.vue?vue&type=style&index=0&id=718134ee&lang=sass&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"718134ee\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}